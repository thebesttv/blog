#+title: AAS实验笔记

* iNat21 mini
* YFCC-GEO
- =others (multiply)= :: 50.800, 81.950
权重统一生成，默认N=3, d=128, h=64.
- =YFCC_Res50_ours= :: 30 epochs, lr=0.04: 48.700, 80.950
- =YFCC_Res50_ours_E90_lr1=  :: lr=0.01, *53.450,83.900* (+2.65 than
  others)
- =YFCC_Res50_ours_E90_lr15= :: lr=0.015, 52.800,82.950
- =YFCC_Res50_ours_E90_lr2=  :: lr=0.02, 52.200,83.000
- =YFCC_Res50_ours_E90_lr25= :: lr=0.025, 52.450,82.200
- =YFCC_Res50_ours_E90_lr3=  :: lr=0.03, 51.200,80.250
- =YFCC_Res50_ours_E90= :: 90 epochs, lr=0.04: 50.900, 81.800
- =YFCC_Res50_ours_E90_lr5=  :: lr=0.05, 49.300,80.850
* iNat17
权重统一生成
- =others (GeoNet)= :: 70.146,89.083
- =iNat17_Res50_ours= :: 69.411,88.944
* iNat18
权重统一生成
- =others (concat)= :: 77.135,92.754
- =iNat18_Res50_ours= :: lr=0.14, N=3, d=128, h=64, 77.516,92.930
** ablation
*** =lr= (N=3, d=128, h=64)
- =iNat18_Res50_ours_lr08= :: lr=0.08, 76.902,92.962
- =iNat18_Res50_ours_lr10= :: lr=0.10, *77.598,93.089*, extends to N=1..4
- =iNat18_Res50_ours_lr12= :: lr=0.12, 77.336,92.991
- =iNat18_Res50_ours_lr16= :: lr=0.16, 77.438,93.024
*** =d=, =h=
lr=0.14, N3
- =iNat18_Res50_ours_lr14_N3_d128_h64= :: not created
*** =N=
**** lr=0.10, d=128, h=64
- =iNat18_Res50_ours_lr10_N1= :: N=1, 75.960,92.320
- =iNat18_Res50_ours_lr10_N2= :: N=2, 76.648,92.692
- =iNat18_Res50_ours_lr10_N3= :: N=3, *77.364,93.016* (-0.234 than
  original =iNat18_Res50_ours_lr10=)
- =iNat18_Res50_ours_lr10_N4= :: N=4, 77.106,93.032
**** lr=0.14, d=128, h=64
- =iNat18_Res50_ours_lr14_N1= :: N=1, 76.083,92.332
- =iNat18_Res50_ours_lr14_N2= :: N=2, *77.458,93.032*
- =iNat18_Res50_ours_lr14_N3= :: N=3, 77.278,93.024
- =iNat18_Res50_ours_lr14_N4= :: N=4, 76.738,92.717
*** epoch
120 epochs
- =iNat18_Res50_concat_E120= :: 77.667,93.040 (+0.532)
- =iNat18_Res50_ours_lr14_N3_E120= :: 77.766,93.257
** change

init code
#+begin_src python
  for m in self.modules():
      if isinstance(m, (nn.Conv2d, nn.Linear)):
          nn.init.kaiming_normal_(m.weight, mode='fan_out', nonlinearity='relu')
      elif isinstance(m, (nn.BatchNorm1d, nn.GroupNorm, nn.LayerNorm)):
          nn.init.constant_(m.weight, 1)
          nn.init.constant_(m.bias, 0)
#+end_src

- =iNat18_Res50_ours_ini= :: add init code, 76.934,92.782
- =iNat18_Res50_ours_ini_bn= :: add init code & BatchNorm1d, 77.688,93.143
- =iNat18_Res50_ours_bn= :: add only BatchNorm1d, 77.774,93.122

- =iNat18_Res50_ours_ini_bn_again= :: again, ongoing
- =iNat18_Res50_ours_bn_again= :: again, ongoing

-----

- =iNat21_50w_Sk101_224_ours_concat_d256_h64_bn= :: add only BatchNorm1d, bad
- =iNat21_50w_Sk101_224_ours_concat_d256_h64_ini_bn= :: add init and BatchNorm1d, 84.580,95.383
